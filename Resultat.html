<!DOCTYPE html>
		<title>How-We-Roll</title>
		<link rel="stylesheet" href="assets/css/base.css">
        <link rel="stylesheet" href="assets/css/rapport.css">
        <link rel="icon" href="assets/img/favicon.png">
	</head>
	<body>
		<nav>
            <div id="navbar">
                <h1 id="PrimaryTitle">How-We-Roll</h1>
                <ul>
                    <li><a href="index.html">Forside</a></li>
                    <li><a href="personlighetstest.html">Personlighettest</a></li>
                    <li><a href="rapport.html">Rapport</a></li>
                    <li><a href="Resultat.html">Resultat</a></li>
                </ul>
			</div>
		</nav>
        <div id="content">
            <form id="formWrapper">
                    <h2>How-we-roll rapport</h2>
                    <p>Her kan du se din resultate i forhold til andre studenter på samme gruppe. </p>

                    <input type = "text" value = "" id = "output-id" style = "width: 350px">
                    <input type = "button" id = "output-knapp" value = "Visualiser">

                <div>
                 <canvas id="Resultat"width="1200"height="600"
                    style="border:1px solid #000000; margin-left: 20px"></canvas>
                </div>
                <script>
                    var canvas = document.getElementById("Resultat"); // Cavnvas ID
                    var ctx = canvas.getContext("2d"); // Sier at canvas skal være 2d

                    var outputId = document.getElementById("output-id");
                    var outputKnapp = document.getElementById("output-knapp");

                    var farger = ["green", "purple", "blue", "red", "orange", "pink", "beige", "lightblue"];
                    var antallNavn = 0;

                    outputKnapp.onclick = function () {hentData(outputId.value, farger[Math.floor(Math.random() * farger.length)]);}

            function hentData (svarId, navnFarge) {
                        fetch("https://bacit.info/hwr/" + svarId + ".json", {cache: 'no-cache'})
                        .then(response => response.json())
                        .then(data => {
                            console.log(JSON.stringify(data, null, 11));

                            drawCircles(data.LikeJobbeIGrupper, 45, navnFarge);   
                            drawCircles(data.likeJobbeOmMorgen, 95, navnFarge);   
                            drawCircles(data.FortellProblemetIDypde, 145, navnFarge);   
                            drawCircles(data.SnakkeOmProblemet, 195, navnFarge);   
                            drawCircles(data.VerbalProssesOverMentalProsses, 245, navnFarge);   
                            drawCircles(data.AvbrytMensJegSnakker, 295, navnFarge);   
                            drawCircles(data.VideoChatOverMelding, 345, navnFarge);   
                            drawCircles(data.FysiskMoteOverDigitaltMote, 395, navnFarge);  
                            drawCircles(data.MangeMoterOverFaMoter, 445, navnFarge);   
                            drawCircles(data.FastJobbTidOverBestemmeSelv, 495, navnFarge);   
                            drawCircles(data.AnanasPaPizza, 545, navnFarge);   

                            navn(data.name, 50 + (antallNavn * 40), navnFarge);
                            antallNavn++;                   
                    });
            }

            function navn(name, y, color) {
                ctx.fillStyle = "black";
                ctx.fillText(name, 1065, y);
                ctx.beginPath();
                ctx.arc(1050, y-5, 4, 0, 2 * Math.PI, false);
                ctx.fillStyle = color;
                ctx.fill();
                ctx.lineWidth = 1;
                ctx.strokeStyle = "black";
                ctx.stroke();
                ctx.closePath();
            }

            // SOfia sin id
            hentData("20221213175452-c3d1f8119ea08674223833dd63e99b28", "lightgreen");

           hentData("20221213192919-c938d01154123f8fd81cbdb8ff8d9d18", "red");
           /* hentData("20221206081848-9ed0fa4a29473ce3d4d6f3debe5641fd");
            hentData("20221213175452-c3d1f8119ea08674223833dd63e99b28");
            hentData("20221206082402-f4181ddc0cc3975f42016440f96b5fcb");*/
	
	hentData("20221213194542-f1f25e932094f13792bc2769a886d664"), "blue";

            var offset;

            function drawCircles (data, y, color) {
                if (data == 0) {offset = Math.floor(Math.random() * 80);}
                else if (data == 100) {offset = Math.floor(Math.random() * (-80));}
                else {offset = Math.floor(Math.random() * (40 - (-40)) + (-40));} 

                ctx.beginPath();
                ctx.arc((180 + parseInt(data, 10)* 6) + offset , y, 4, 0, 2 * Math.PI, false);
                ctx.fillStyle = color;
                ctx.fill();
                ctx.lineWidth = 1;
                ctx.strokeStyle = "black";
                ctx.stroke();
                ctx.closePath();
            }         
            
            function drawLines (y) {
                ctx.beginPath();
                ctx.moveTo(180, y);
                ctx.lineTo(180 + (100 * 6), y); 
                ctx.stroke();
            }
             for (let i = 0; i < 11; i++) {
                drawLines(45 + (i * 50));
             }
             

                    ctx.font = "15px Arial"; //font for Nøytral i toppen av Canvaset
                    ctx.fillText("Nøytral",475,20) //plassering av tekst
                    ctx.stroke();

                     // jobbe alene eller i gruppe
                
                     ctx.fillText("Jobbe alene", 20, 50);
                    ctx.fillText("Jobbe sammen", 800, 50);

                    //Linje for resultat av  spørsmål Liker du å jobbe om morgen
                    ctx.font = "14px Arial";
                    ctx.fillText("Morgenfugl", 20, 100);
                    ctx.fillText("Nattugle", 800, 100);

                    //gå i dybe eller rett på sak
               
                    ctx.fillText("Gå i dybden", 20, 150);
                    ctx.fillText("Rett på sak", 800, 150);

                    ctx.fillText("Trenger å snakke om det", 20, 200);
                    ctx.fillText("Trenger å gå videre", 800, 200);

                    ctx.fillText("Verbal prossesor", 20, 250);
                    ctx.fillText("Mental prossesor", 800, 250);

                    ctx.fillText("Avtal med meg", 20, 300);
                    ctx.fillText("Bare si ifra når du trenger meg", 800, 300);

                    ctx.fillText("Video chat", 20, 350);
                    ctx.fillText("Teksting", 800, 350);

                    ctx.fillText("Fysisk møte", 20, 400);
                    ctx.fillText("Digital møte", 800, 400);

                    ctx.fillText("Mange møter", 20, 450);
                    ctx.fillText("Få møter", 800, 450);

                    ctx.fillText("09-17", 20, 500);
                    ctx.fillText("Jeg har ikke noe timeplan", 800, 500);

                    // annanas på pizza eller en krigsforbryter
                 
                    ctx.fillText("Annanas på pizza", 20, 550);
                    ctx.fillText("Send til graven", 800, 550);

                    


                </script>
            </form>
        </div>
    </body>
</html>
